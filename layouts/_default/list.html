{{ define "main" }}

    {{ $pageID := .Section | default "landing" }}  <!-- Detect if this is 'test' or 'landing' -->
    {{ $dataFile := index .Site.Data $pageID | default dict }} <!-- Load matching YAML -->

    <!-- Ensure we're getting correct YAML -->
    {{ if not $dataFile }}
        <p>Error: No matching data file found for '{{ $pageID }}'</p>
    {{ else }}

        <!-- Hero Section -->
        {{ with $dataFile.hero }}
            {{ partial (printf "%s/hero.html" $pageID) . }}
        {{ end }}

        <!-- Feature Grid -->
        {{ with $dataFile.featureGrid }}
            {{ partial (printf "%s/feature_grid.html" $pageID) . }}
        {{ end }}

        <!-- Image-Text Section -->
        {{ with $dataFile.imageText }}
            {{ partial (printf "%s/image_text.html" $pageID) . }}
        {{ end }}

        <!-- Image Compare Section -->
        {{ with $dataFile.imageCompare }}
            {{ partial (printf "%s/image_compare.html" $pageID) . }}
        {{ end }}

    {{ end }}

{{ end }}
