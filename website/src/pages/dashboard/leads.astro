---
import DashboardLayout from '../../components/DashboardLayout.astro';

const title = 'Leads';
const description = 'View and purchase collected leads.';
---
<DashboardLayout title={title} description={description}>
  <section class="container py-5">
    <h1 class="text-center mb-4">Leads</h1>
    <p class="text-center">A preview of recent leads is shown below.</p>
    <div class="table-responsive mt-4">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Business</th>
            <th>Email</th>
            <th>Domain</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Example Co</td>
            <td>info@example.com</td>
            <td>example.com</td>
          </tr>
          <tr>
            <td>Sample LLC</td>
            <td>contact@sample.io</td>
            <td>sample.io</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p class="mt-3 text-center">More detailed lists will appear here soon.</p>
  </section>
  <script type="module">
    document.addEventListener('DOMContentLoaded', () => {
      const init = () => {
        window.onAuthStateChanged(window.firebaseAuth, user => {
          if (!user) {
            window.location.href = '/login';
          }
        });
      };
      if (window.firebaseAuth) {
        init();
      } else {
        document.addEventListener('firebase-init', init, { once: true });
      }
    });
  </script>
</DashboardLayout>
