---
import MainLayout from './MainLayout.astro';

const { fluid = false, title, description } = Astro.props;
---
<MainLayout {title} {description} {fluid}>
  <slot />
  <slot slot="scripts">
    <script src="/js/spinner.js" type="module"></script>
    <script src="/js/glossary-popover.js" defer></script>
    <script type="module" src="/js/mermaid-init.js"></script>
    <script is:inline>
      function scrollToHash() {
        const { hash } = window.location;
        if (hash) {
          const el = document.getElementById(hash.slice(1));
          if (el) {
            setTimeout(() => el.scrollIntoView(), 50);
          }
        }
      }
      scrollToHash();
      window.addEventListener('hashchange', scrollToHash);
    </script>
  </slot>
</MainLayout>
